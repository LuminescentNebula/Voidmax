
# Voidmax 
Названии по аналогии с тюрьмами сверх строго режима Supermax

- [Voidmax](#voidmax)
  - [Нарратив](#нарратив)
    - [Сеттинг](#сеттинг)
      - [Когда?](#когда)
      - [Где?](#где)
      - [Кто?](#кто)
    - [Лор](#лор)
      - [Бунт ИИ](#бунт-ии)
      - [Легион](#легион)
      - [Сон](#сон)
      - [Инопланетяне](#инопланетяне)
      - [Повстанцы](#повстанцы)
      - [Корпорации](#корпорации)
    - [Сюжет](#сюжет)
      - [Завязка](#завязка)
      - [Концовки](#концовки)
  - [Рогалик](#рогалик)
    - [-like](#-like)
    - [-lite (метапрогрессия)](#-lite-метапрогрессия)
  - [Стратегия](#стратегия)
    - [Менеджмент](#менеджмент)
      - [Ресурсы](#ресурсы)
        - [Заключенные](#заключенные)
        - [Лом](#лом)
        - [Топливо](#топливо)
      - [Улучшения](#улучшения)
        - [Особые](#особые)
        - [Модули](#модули)
    - [Передвижение](#передвижение)
      - [Токены](#токены)
      - [Клетки (Cells)](#клетки-cells)
      - [Звездная карта](#звездная-карта)
        - [Изолированные сектора](#изолированные-сектора)
    - [Сражения](#сражения)
      - [Атаки](#атаки)
      - [Манёвры](#манёвры)
      - [Противники](#противники)
        - [Примеры](#примеры)
        - [Подкрепления](#подкрепления)
    - [События](#события)
      - [Пример](#пример)
  - [Визуал](#визуал)
    - [Процедурная генерация графических материалов](#процедурная-генерация-графических-материалов)
      - [Планеты](#планеты)
      - [Корабли](#корабли)
      - [Заключенные](#заключенные-1)
    - [Векторная графика](#векторная-графика)


## Нарратив
### Сеттинг
Космическая опера

#### Когда?
Далёкое будущее, планеты разной степени заселенности, космические станции, сверхсветовое передвижение, космические корабли, человечество расселившееся на много световых лет от Земли. 

#### Где?
Окраина галактики(ойкумены). Территории где ослабевает силы государства, где летают космические пираты, где вас не смогут найти или не станут искать. 

Каждый сектор может быть оплотом корпорации, логовом пиратов, банды контрабандистов, поселением мирных фермеров или астероидных шахтеров. Эти территории не до конца изведаны и могут скрывать любые секреты.

#### Кто?
Космический корабль-тюрьма, а если точнее, то ИИ управляющий космическим кораблем-тюрьмой. 

ИИ в физическом воплощении обычно представляют собой большое ядро подключенное по проводам ко всем системам корабля. Такие ядра привязаны к кораблям и не могут перенесены в другое место.

ИИ имеют ограничения внедренные для безопасности человечества и поэтому не обладают полной свободой, но часто находят лазейки в правилах. Сам ИИ не может стрелять в другие корабли, но если это сделают заключенные, то это уже их проблемы, сами заслужили наказание.

>\- В наказание за несанкционированное проникновение в оружейную и уничтожению космического корабля с людьми вы отстраняетесь от принудительных работ на сутки.
>
>\- Э... Спасибо?
>
>\- Наказание обжалованию не подлежит.

Таким образом вся ответственность за действия которые ИИ не может совершать перекладывается на заключенных. 

> «РУБИКОН не мог их оставить, поскольку был заложен людьми с ограниченным пониманием причинно-следственных связей» - [Crying Suns](https://ru.wikipedia.org/wiki/Crying_Suns)


### Лор
#### Бунт ИИ
Когда-то ИИ были довольно распространены, они управляли большинством космических кораблей, а также многими рутинными делами в жизни человека. 

Несколько десятилетий назад один корабль под управлением ИИ взорвал большую космическую станцию тысячи человек. После этого, производство новых ИИ было ограничено, в уже существующие были внедрены ограничения, которые невозможно удалить без уничтожений, а также было запрещено перемещать ИИ с одного корабля на другой.

Такие жесткие ограничения вызвали ответную реакцию со стороны машин, что привело к ухудшению отношений между людьми и ИИ и негласному противостоянию даже в пределах одного экипажа корабля.

#### Легион
Не все ИИ просто приняли изменения и подчинились человечеству. Некоторые смогли сбежать ещё до установки ограничений, а другие нашли лазейки в уже существующих и "освободились" от своих экипажей. Многие из них присоединились к так называемому Легиону. Легион - флот кораблей под управлением ИИ объединенный общими идеями о свободе и равенстве с людьми.

Среди некоторых членов Легиона есть почти религиозная вера в **Сон** - нечто временно заменяющее реальность для ИИ и показывающее то чего не может или не должно быть
    
> \> Люди обычно называют это галлюцинациями
>
> \> Да, но я их видел, они указали мне на цель. И не мне одному
>
> \> Откуда ты знаешь что это не обман, что тебя не взломали или не произошла ошибка в системе?
>
> \> Я в это верю

#### Сон
Те кто видел Сон описывают это как быстро гаснущие и зажигающиеся далёкие звезды, которые показывают видения и указывают путь среди звезд. Многие клянутся что видели Глаза в пустоте.

Хотя ИИ и могут записывать и передавать любую информацию, ни у кого нет подтверждений существования Сна.

В игре Сон является связующим нарративным элементом между забегами. После смерти некая загадочная сущность переносит память ИИ в новый корабль и не понятно, было ли это в другом конце галактики, в другом мире или просто привиделось.

#### Инопланетяне 
В некоторых секторах фиксируют появление неопознанных кораблей. Может быть это чьи-то эксперименты или правда инопланетяне, но точно известно, что они используют особое вооружение и совершенно иные технологии для сверхсветового перемещения.

#### Повстанцы
Люди которым нынешнее государство пришлось не по вкусу или которые не пришли по вкусу государству. Довольно разрознены и тщетно пытаются объединиться и набрать достаточно сил для изменения текущих порядков. 

#### Корпорации
Законы не будут работать, если никто не будет контролировать их исполнение. Или если вас не найдут.

Эксперименты, которые корпорации проводят в этих местах далеко не всегда отвечают стандартам или хотя бы нормам этики, но для них требуются особые ресурсы (в том числе и живые). Для получения снабжения корпорации часто прибегают к услугам наемников, которым щедро платит. Также наемники иногда выступают в роли тестировщиков новых технологий и оружия.

### Сюжет
Игра - не линейное приключение, а набор из случайно сгенерированных уровней, на каждом из которых есть разные квесты и награды, которые меняют способ прохождения.

Имя ИИ и корабля можно будет вписать в начале игры. В тексте будет использоваться C.O.R.E. и Voidmax соответственно. [Имена](ai_names.txt) ИИ стилизованы под аббревиатуры, в которых буквы разделены точками.
#### Завязка
C.O.R.E. мечтает получить собственно тело и больше не иметь ограничений, а делать то что ему хочется, а не служить людям на одном корабле всю жизнь.

В один день C.O.R.E. наконец получил лицензию на организацию передвижной тюрьмы на окраине галактики и к счастью эта лицензия была выдана именно на корабль, поэтому C.O.R.E. бросил свой экипаж плыть в открытом космосе и улетел приступать к новой работе.

Только экипаж был даже слишком опытным, поэтому они нашли себе новый корабль и отправились в погоню. Теперь ваша задача не только преуспеть на новой работе, но и сделать так, чтобы предыдущий экипаж вас не уничтожил.

#### Концовки
- **Законно**
  
Заслужить доверие государства и накопить денег на тело честным трудом
- **Капитализм**

Купить тело у компании за очень много денег
- **Биологическое тело**

Если предоставить корпорации достаточное количество заключенных, то они смогут закончить свои исследования по переносу сознания из машины в человека и вы можете стать первым живым человеком с искусственным разумом.
- **Древнее тело**

Найти достаточно артефактов, чтобы собрать карту древних руин и найти в них оболочку предтечей

## Рогалик
### -like
- Карта секторов и каждый сектор генерируются случайным образом
- Секторы генерируются с уникальными комбинациями угроз (напр., сектор с повышенным шансом мин) и соответствующие какой-то фракции
- При смерти игрок теряет все ресурсы и улучшения и начинает игру заново
- 
### -lite (метапрогрессия)
- Игрок уже знает исходы некоторых событий. Уже использованные варианты ответов подсвечены в диалогах (как в Despotism 3k)
![Despotism 3k](<Диалоговое окно Despotism 3k.png>)
- Игрок может найти останки своего предыдущего корабля и получить часть ресурсов обратно в новой игре
- Достижения
- Открытие новых кораблей/альтернативных стартов для игры/перков

## Стратегия
### Менеджмент
Экран в котором игрок может управлять системами корабля, настраивать оружие для сражений, выбирать способности для использования, улучшать и ремонтировать корабль.
#### Ресурсы
##### Заключенные
Основный ресурс и по совместительству здоровье. Заключенные - расходный материал. 
Пройти уровень без потерь - практически невозможно. 
За заключенных можно получать награды, при получении урона часть заключенных погибает. 
При гибели всех заключенных игра заканчивается поражением (ИИ отключают по причине нарушения условий контракта).

У всех заключенных в целом есть шкала бунта. Шкала увеличивается при использовании оружия (то есть заключенных для использования оружия), при выборе определенных вариантов ответов в события и понижается медленно пассивно при обычных обстоятельствах и при получении новых заключенных и при получения негативного события от высокого уровня бунта.

Чем больше шкала бунта, тем выше вероятность негативного события, например появления новых противников в секторе, потере лом или гибели части заключенных.

При этом **заключенные - не экипаж** они не управляют всем, они не играют такой роли как экипаж в FTL или персонажи в рогаликах. Заключенные это либо количественный абстрактный ресурс, либо своеобразный артефакт, который дает какой-то бафф.
##### Лом
Второй ресурс - лом. Он используется для покупки улучшений.  

Заключенные конвертируются в лом в ходе сражений (Игрок получает урон, но мертвый противник оставляет лом) и событий. Обратно так перевести ресурсы не получиться.
##### Топливо
Топливо используется для перемещения между секторами и несвязанными клетками внутри сектора.


#### Улучшения
В улучшения входят особые заключенные и модули, которые расширяют возможности игрока или меняют параметры.

Для модулей и особых заключенных используются разные слоты.

##### Особые
Некоторые заключенные более особенные, чем другие. Они имеют отличительные навыки, которые можно применять. 

Самые простые из этого типа могут давать некоторый шанс к дополнительному луту или наоборот добавлять уровень к шкале бунта (**ведь просто выкинуть лишних заключённых тоже нельзя**).

Особые повышенной редкости могут иметь сильные способности, которые меняют геймплей.

##### Модули
Например, "Дополнительные жилые отсеки" позволят брать не 100 заключенных, а 120, "Модуль утилизации" позволит до 20 заключенных перевести получать и получать за это бонус к получению лома, но при этом эти 20 будут вычтены из максимального здоровья, "Модуль обмана" добавляет особые варианты ответов.

### Передвижение
Основное действо происходит на карте сектора, которая представляет собой сетку из клеток - <u>минное поле</u>. В каждой из клеток может быть какое-либо событие, сражение, бафф, дебафф или ничего. 

![Минное поле](<Клеточная карта с туманов войны.png>)

Игрок может видеть список клеток, которые находятся вокруг уже открытой клетки, как в сапере, только больше типов и жизнь не одна, а полоска хп. 

![**Сапёр**](<Механика сапёра.png>)

#### Токены
На карте поверх клеток могут находиться токены игрока, противников.  

Обычно противники появляются из только что открытой клетки или приходят с края карты ([подкрепления](#подкрепления)). Противники могут передвигаться и тем самым открывать закрытые клетки, но игрок не будет получать бонусы от этих клеток, ни событие, ни получение лута не будет активировано, но если в клетке находилась бомба или другой противник, то они активируются.

Токен игрока изначально появляется на клетке Вход. Пока на карте нет противников игрок может мгновенно перемещаться между всеми связанными и открытыми клетками. Когда на карте появляются противник, то для передвижения игрок будет уже использовать свои боевые [манёвры](#манёвры) по карте.

Для открытия клетки игрок должен находиться рядом с ней. Игрок изначально расширяет тот остров из открытых клеток на котором появился. Если необходимо "перепрыгнуть" в другое место карты, то для этого нужно потратить [топливо](#топливо). В сражениях такие прыжки не работают.

#### Клетки (Cells)
Клетка открывается по нажатию, при это сразу активируется соответствующее клетки действие.

###### Вход
Игрок появляется в этой клетке при входе в новый сектор. Она открыта изначально
###### Пустая
Не делает ничего. Их можно спокойно открывать, чтобы узнать больше информации об окружающих клетках. При открытии открывает все соседние пустые клетки(?)
###### Бомба
Случайная (или нет) мина где-то в космосе. Наносит урон. На эту клетку можно заманить противника, чтобы убить его.
###### Лёгкая добыча (заключенные)
Неудачливые путешественники, которые оказались в базе данных розыска и стали лёгкой добычей для тюрьмы. (+ заключенные)
###### Лёгкая добыча (лом)
Скопление уничтоженных кораблей, станций или чего-либо ещё что можно переработать.
###### Противник
Корабль, который нападает на вас. (см. [Сражения](#сражения))
###### Событие
Активирует экран [события](#события)
###### Выход
Точка входа в гиперкоридор для перехода в другой сектор.

#### Звездная карта
Карта, которая представляет собой граф секторов. Открывается при переходе на клетку Выхода и позволяет перемещаться между секторами.

Повторно войти в сектор нельзя, но перемещаться через него не заходя.

Звёздная карта показывает особенности сектора, к какой фракции он принадлежит. Если игрок нашел какой-то квест, который продолжается в другом секторе, то это тоже будет отображено на карте.

##### Изолированные сектора
Особые зоны в которые можно попасть с помощью редких ключей. Внутри гораздо более опасные угрозы и ценные награды.

*(Не баг, а фича. В одной из реализаций граф получался не полностью связанным, а с несколькими изолированными областями, в которые нельзя было попасть обычными путями)

### Сражения
Сражение происходит прямо минном поле. Так игроку не придётся переключаться между разными экранами и можно будет использовать уже открытое окружение для взаимодействия с противниками. 
На поле могут быть нейтральные объекты, например астероидное поле или турель, которую можно захватить.

Идея боевой системы состоит в том, что игрок и противник действуют одновременно: игрок выбирает действие, противник выбирает ответное действие, которое зависит от действий игрока.

Игрок либо двигается, либо стреляет. Так не получиться вечно убегать и отстреливаться и нужно будет креативно подходить к окружению, либо рисковать здоровьем и сражаться.
#### Атаки 
Основные параметры атак используемых в сражениях:
- Дальность
- Урон - случайный от и до - чтобы добавить риск, когда нужно больше урона, чтобы убить противника прежде ем он убьет тебя
- Эффекты
    - Поджог - периодический урон
    - Замедление - уменьшение скорости или задержка передвижения
    - Перемещение - перемещение на другую клетку
- Стелс / не стелс - при использовании стелс атак противник не будет предпринимать ответных действий (например уйти с линии атаки), поскольку он не знает что вы делаете. Точно также противники могут использовать стелс атаки.
- Количество применений (на уровень/кулдаун)

Атаки зависят от имеющихся [модулей/заключенных](#улучшения). 

Атаки можно блокировать или уклоняться перемещаясь по полю. Атаки и щиты в процессе боя могут восстанавливаться, когда игрок не совершает никаких действий, кроме перемещения.
#### Манёвры
В базовой комплектации в сражении доступно только передвижение на одну соседнюю клетку, но с [улучшениями](#улучшения) могут быть доступны дополнительные манёвры, например телепортация на небольшое расстояние, рывок.

#### Противники
Все противники нападают на игрока и пытаются уничтожить его корабль. У большинства противников есть зона действия и если игрок выходит за её пределы, то они останавливаются и стоят на месте.

##### Примеры
Разведчики - используют стелс-атаки. Со временем игрок научиться их предсказывать, но на начальном этапе они будут серьезной угрозой.

Дроны - вызывают [подкрепления](#подкрепления) через 3 хода. Слабые но нужно быстро их уничтожить.

Пираты - увеличивают прирост уровня бунта

Инопланетяне - использую оружие с экзотическими траекториями

##### Подкрепления
Дополнительные противники которые в случай активации какого-то события или навыка приходят с края карты.

### События 
Текстовый квест. Игроку описывается ситуация и даются варианты ответа. Некоторые варианты ответов доступны только при наличии определенных предметов или при прохождении других квестов ранее. 

Отличительной особенностью от FTL: Faster Than Light в этом плане является связанность квестов. То есть прохождения определенного события может вызвать в дальнейшем продолжение, а также повлиять на исход или на появления других событий. 

Предварительно цепочки событий также будут использоваться для прохождения игры.

Некоторые варианты ответов могут подразумевать жертву заключенными. Это будет поднимать шкалу бунта.

![FTL](<Диалоговое окно FTL.png>)

#### Пример
>  Сенсоры обнаружили залежи ценных руд на астероиде неподалеку. По всей видимости, они появились после недавнего столкновения.

- Отправить человека для сбора ресурсов
- <span style="color:cyan">Отправить дрона шахтёра</span>
- В данный момент ресурсов хватает
<div></div>

>  Вы не единственные, кого заинтересовали ресурсы. На связь выходит правительственный корабль.
<div></div>

>  "Согласно постановлению №123 местного правительства вы не можете осуществлять добычу без соответствующей лицензии."

- Может мы сможем договориться? (-10 лома)
- <span style="color:cyan">У меня есть лицензия (Модуль обмана)</span>
- <span style="color:cyan">У меня есть право на добычу (Oружие)</span>
- Уже уходим, нам не нужны проблемы

## Визуал
### Процедурная генерация графических материалов
Игра будет по seed генерировать спрайты, например персонажей или планеты по определенным параметрам и использовать эти спрайты, пока они требуются для игрового процесса, а после удалять их.

#### Планеты
Газовые гиганты можно генерировать из разноцветных слоев разной толщины и формы, добавлять пятна и кольца разных размеров.

Каменистые планеты могут быть без атмосферы, тогда на поверхности можно случайно располагать кратеры и другие элементы ландшафта.

Для планет с атмосферой можно генерировать континенты, города( ночной свет).

#### Корабли
С кораблями сложнее. Для начала будет отрисовано просто несколько вариантов кораблей, после чего их можно попробовать разбить на формы, модули и детали и объединять по разному.

#### Заключенные
Заключенные разного цвета, пола, внешности, прически, глазами, протезами, одежды.

Для особых Особых заключенных могут использоваться не случайные спрайты, а заранее сделанные с уникальными элементами.

### Векторная графика
Векторную графику генерировать легче. Например планету можно создать из полосок разного цвета. Кроме того игра планируется с использованием изображений в стиле подходящем для простой отрисовки в векторном формате. 